<!DOCTYPE html>
<html lang="en">

    <%- include('../partials/admin/headAdmin') %> 

<body>

    <%- include('../partials/admin/headerAdmin')  %> 

    <main>
        <h2 class="titulo">Agregar Producto</h2>            
        <div class="register">
            <form action="/admin/producto/agregar" method="POST" class="form-register" enctype="multipart/form-data">
                    <div class="register-input">
                        <label for="name">Nombre de producto</label>
                        <input type="text" name="name" class="input-style" placeholder="Ingrese nombre de producto" value="<%= (locals.old && old.name)? old.name : "" %> ">
                        <% if(locals.errors && errors.name) { %>
                            <small class="alert-msg"><%= errors.name.msg %></small>
                        <% } %>  
                    </div>
                    <div class="register-input">
                        <label for="marca">Marca</label>
                        <input type="text" name="marca" id="marca" class="input-style" placeholder="Ingrese marca" value="<%= (locals.old && old.marca)? old.marca : "" %> ">
                        <% if(locals.errors && errors.marca) { %>
                            <small class="alert-msg"><%= errors.marca.msg %></small>
                        <% } %>  
                    </div>
                    <div class="register-input">
                        <label for="price">Precio</label>
                        <input type="number" name="price" id="price" class="input-style" placeholder="Ingrese precio" value="<%= (locals.old && old.price)? old.price : "" %> ">
                        <% if(locals.errors && errors.price) { %>
                            <small class="alert-msg"><%= errors.price.msg %></small>
                        <% } %>  
                    </div>
                    <div class="register-input">
                        <label for="stock">Stock</label>
                        <input type="number" name="stock" id="stock" class="input-style" placeholder="cantidad de stock" value="<%= (locals.old && old.stock)? old.stock : "" %>">
                        <% if(locals.errors && errors.stock) { %>
                            <small class="alert-msg"><%= errors.stock.msg %></small>
                        <% } %>  
                    </div>
                    <div class="register-input">
                        <label for="discount">Descuento</label>
                        <input type="number" name="discount" id="discount" class="input-style" value="<%= (locals.old && old.discount)? old.discount : "" %>">
                        <% if(locals.errors && errors.discount) { %>
                            <small class="alert-msg"><%= errors.discount.msg %></small>
                        <% } %>  
                    </div>
                    <div class="register-input">
                        <label for="categoryid">Categoria</label>
                        <select name="categoryid" id="select" class="input-style">
                            <option value="0" selected hidden>Elija una categor√≠a</option>
                            <% categories.forEach(category => { %>
                                <option value="<%= (locals.old && old.categoryid) && old.categoryid === category.id? "selected" : category.id %>"><%= category.nombre %></option>
                            <% }) %> 
                        </select>
                        <% if(locals.errors && errors.categoryid) { %>
                            <small class="alert-msg"><%= errors.categoryid.msg %></small>
                        <% } %>  
                    </div>
                    <div class="register-input">
                        <label for="image">Subir imagen</label>
                        <input type="file" name="image" accept=".jpg, .jpeg, .png">
                    </div>
                    <div class="register-input">
                        <label for="description">Detalles</label>
                        <textarea type="description" name="description" id="description" cols="30" rows="3"><%= (locals.old && old.description)? old.description : "" %></textarea>
                        <% if(locals.errors && errors.description) { %>
                            <small class="alert-msg"><%= errors.description.msg %></small>
                        <% } %>  
                    </div> 
                    <div class="btn_register">
                       <button type="submit" class="btn-submit_register">Agregar</button>
                        <span class="admin"><a class="admin" href="/admin">Volver</a></span>
                    </div>
            </form>
             
                     
        </div>
    </main>

    <%- include('../partials/admin/footerAdmin')  %>

</body>
</html>